{% extends "adminlte_full/skeleton_login.html" %}
{% load bootstrap4 i18n adminlte_full %}

{% block page_title %}{{ title }}{% endblock %}

{% block login_message %}
  <p class="login-box-msg">
    {% if validlink %}
      {% trans "Please enter your new password twice so we can verify you typed it in correctly." %}
    {% else %}
      {% trans "The password reset link was invalid, possibly because it has already been used.  Please request a new password reset." %}
    {% endif %}
  </p>
{% endblock login_message %}

{% block login_form %}
  {% if validlink %}
    <form method="POST">
      {% csrf_token %}
      {% bootstrap_field form.new_password1 form_group_class="input-group mb-3" show_label="skip" addon_after='<span class="fas fa-lock"></span>' %}
      {% bootstrap_field form.new_password2 form_group_class="input-group mb-3" show_label="skip" addon_after='<span class="fas fa-lock"></span>' %}
      <div class="row">
        <div class="col-12">
          <button type="submit" class="btn btn-primary btn-block">{% trans 'Change my password' %}</button>
        </div>
      </div>
    </form>
  {% else %}
    <a class="btn btn-primary btn-block" href="{% url config.ADMINLTE_PASSWORD_RESET_ENDPOINT %}">{% trans 'Forgotten your password or username?' %}</a>
  {% endif %}
{% endblock login_form %}

{% block custom_links %}
  <p class="mt-3 mb-1">
    <a href="{% url config.ADMINLTE_LOGIN_ENDPOINT %}">{% trans 'Log in' %}</a>
  </p>
{% endblock %}